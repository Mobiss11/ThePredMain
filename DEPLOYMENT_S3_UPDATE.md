# Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ S3 Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰ĞµĞ¼

## Ğ¨Ğ°Ğ³ 1: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° DNS (Ğ² Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ¾Ğ¼)

Ğ—Ğ°Ğ¹Ğ´Ğ¸ Ğ² Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ¾Ğ¼ `thepred.store` Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ **A-Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ**:

```
Ğ¢Ğ¸Ğ¿: A
Ğ˜Ğ¼Ñ: @ (Ğ¸Ğ»Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ²ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼ Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°)
Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: IP Ñ‚Ğ²Ğ¾ĞµĞ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ° (Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ IP Ñ‡Ñ‚Ğ¾ Ñƒ thepred.tech)
TTL: Auto Ğ¸Ğ»Ğ¸ 3600
```

ĞŸĞ¾ÑĞ»Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸ 5-10 Ğ¼Ğ¸Ğ½ÑƒÑ‚, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ DNS Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ğ»ÑÑ.

ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹:
```bash
ping thepred.store
```

Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°Ñ‚ÑŒ IP Ñ‚Ğ²Ğ¾ĞµĞ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°.

---

## Ğ¨Ğ°Ğ³ 2: ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸ÑÑŒ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ

```bash
ssh root@Ñ‚Ğ²Ğ¾Ğ¹_ÑĞµÑ€Ğ²ĞµÑ€_ip
cd /root/ThePred  # Ğ¸Ğ»Ğ¸ Ğ³Ğ´Ğµ Ñƒ Ñ‚ĞµĞ±Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
```

---

## Ğ¨Ğ°Ğ³ 3: ĞŸĞ¾Ğ´Ñ‚ÑĞ½Ğ¸ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ´

```bash
git pull origin main
```

---

## Ğ¨Ğ°Ğ³ 4: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸ .env Ñ„Ğ°Ğ¹Ğ»

ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ» `.env`:
```bash
nano .env
```

Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ² ĞºĞ¾Ğ½ĞµÑ† Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ MinIO:

```env
# MinIO S3 Storage
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼_8_ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
```

**Ğ’ĞĞ–ĞĞ**: Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸ `Ñ‚Ğ²Ğ¾Ğ¹_ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼_8_ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²` Ğ½Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ!

Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ Ñ„Ğ°Ğ¹Ğ»: `Ctrl+O`, `Enter`, `Ctrl+X`

---

## Ğ¨Ğ°Ğ³ 5: ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹

```bash
docker-compose -f docker-compose.prod.yml down
```

---

## Ğ¨Ğ°Ğ³ 6: ĞŸĞµÑ€ĞµÑĞ¾Ğ±ĞµÑ€Ğ¸ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹

```bash
docker-compose -f docker-compose.prod.yml build backend
docker-compose -f docker-compose.prod.yml up -d
```

ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸ Ğ¿Ğ°Ñ€Ñƒ Ğ¼Ğ¸Ğ½ÑƒÑ‚, Ğ¿Ğ¾ĞºĞ° Ğ²ÑÑ‘ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑÑ.

---

## Ğ¨Ğ°Ğ³ 7: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ñ‹

```bash
docker-compose -f docker-compose.prod.yml ps
```

Ğ’ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ² ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ `Up`.

---

## Ğ¨Ğ°Ğ³ 8: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```bash
docker-compose -f docker-compose.prod.yml exec backend alembic upgrade head
```

Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸:
```
INFO  [alembic.runtime.migration] Running upgrade faa5267d165a -> 79fa342a014c, add_market_photo_and_moderation
```

---

## Ğ¨Ğ°Ğ³ 9: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸ SSL ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚ Ğ´Ğ»Ñ thepred.store

```bash
docker-compose -f docker-compose.prod.yml run --rm certbot certonly \
  --webroot \
  --webroot-path=/var/www/certbot \
  -d thepred.store \
  --email Ñ‚Ğ²Ğ¾Ğ¹@email.com \
  --agree-tos \
  --no-eff-email
```

**Ğ’ĞĞ–ĞĞ**: Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸ `Ñ‚Ğ²Ğ¾Ğ¹@email.com` Ğ½Ğ° ÑĞ²Ğ¾Ğ¹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ email.

---

## Ğ¨Ğ°Ğ³ 10: ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ nginx

```bash
docker-compose -f docker-compose.prod.yml restart nginx
```

---

## Ğ¨Ğ°Ğ³ 11: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑÑ‘ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ ÑĞ°Ğ¹Ñ‚Ğ°:
```bash
curl -I https://thepred.tech
```

Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ `HTTP/2 200`

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° S3 Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°:
```bash
curl -I https://thepred.store
```

Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ»Ğ¸Ğ±Ğ¾ `HTTP/2 200`, Ğ»Ğ¸Ğ±Ğ¾ `HTTP/2 403` (ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ MinIO)

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‡Ñ‚Ğ¾ MinIO Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸:
```bash
docker-compose -f docker-compose.prod.yml exec minio mc alias set local http://localhost:9000 admin Ñ‚Ğ²Ğ¾Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_Ğ¸Ğ·_env
```

---

## Ğ¨Ğ°Ğ³ 12: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

### Ğ›Ğ¾Ğ³Ğ¸ backend:
```bash
docker-compose -f docker-compose.prod.yml logs backend | tail -50
```

Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ:
```
INFO:     Initializing S3 bucket...
INFO:     Bucket thepred-events already exists
INFO:     S3 bucket initialized
```

### Ğ›Ğ¾Ğ³Ğ¸ MinIO:
```bash
docker-compose -f docker-compose.prod.yml logs minio | tail -20
```

### Ğ›Ğ¾Ğ³Ğ¸ nginx:
```bash
docker-compose -f docker-compose.prod.yml logs nginx | tail -20
```

---

## Ğ¨Ğ°Ğ³ 13: Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Telegram Ğ±Ğ¾Ñ‚Ğ°
2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ `/start` Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹ Web App
3. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸ Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ "Ğ Ñ‹Ğ½ĞºĞ¸"
4. ĞĞ°Ğ¶Ğ¼Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ **"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ"**
5. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸ Ñ„Ğ¾Ñ‚Ğ¾, Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ñƒ, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ
6. Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑŒÑÑ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ "Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ½Ğ° Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ!"

---

## ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸ S3

ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ñ Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ĞµĞ¹. Ğ•ÑĞ»Ğ¸ Ñ„Ğ¾Ñ‚Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ğ»Ğ¾ÑÑŒ, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ¾Ğ½Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ğ¿Ğ¾ URL:

```bash
# Ğ’ Ğ»Ğ¾Ğ³Ğ°Ñ… backend Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ URL Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ğ¾Ğ¹ Ñ„Ğ¾Ñ‚ĞºĞ¸
docker-compose -f docker-compose.prod.yml logs backend | grep "Uploaded file to"
```

URL Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ğ¸Ğ´Ğ°: `https://thepred.store/thepred-events/[uuid].jpg`

ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ URL Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ - Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒÑÑ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ°.

---

## Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ ĞµÑĞ»Ğ¸ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

### DNS Ğ½Ğµ Ñ€ĞµĞ·Ğ¾Ğ»Ğ²Ğ¸Ñ‚ÑÑ (thepred.store Ğ½Ğµ Ğ¿Ğ¸Ğ½Ğ³ÑƒĞµÑ‚ÑÑ)
- ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸ ĞµÑ‰Ñ‘ 10-15 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ A-Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ Ğ² DNS Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
- Ğ£Ğ±ĞµĞ´Ğ¸ÑÑŒ Ñ‡Ñ‚Ğ¾ ÑƒĞºĞ°Ğ·Ğ°Ğ» Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ IP ÑĞµÑ€Ğ²ĞµÑ€Ğ°

### ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğ¸ SSL ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ°
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ nginx ÑĞ»ÑƒÑˆĞ°ĞµÑ‚ 80 Ğ¿Ğ¾Ñ€Ñ‚ Ğ¸ Ğ¾Ñ‚Ğ´Ğ°Ñ‘Ñ‚ challenge
curl http://thepred.store/.well-known/acme-challenge/test
```

Ğ•ÑĞ»Ğ¸ 404 - ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾. Ğ•ÑĞ»Ğ¸ connection refused - Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ñ nginx.

### MinIO Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ² .env Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹ (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 8 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)
docker-compose -f docker-compose.prod.yml logs minio
```

### ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ "relation markets does not exist"
Ğ­Ñ‚Ğ¾ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ Ñ‡Ñ‚Ğ¾ Ğ±Ğ°Ğ·Ğ° Ğ¿ÑƒÑÑ‚Ğ°Ñ. ĞÑƒĞ¶Ğ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ’Ğ¡Ğ• Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸:
```bash
docker-compose -f docker-compose.prod.yml exec backend alembic upgrade head
```

### Backend Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğº MinIO
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ MinIO Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
docker-compose -f docker-compose.prod.yml ps minio

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸ backend Ğ½Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ S3
docker-compose -f docker-compose.prod.yml logs backend | grep -i "s3\|minio"
```

---

## ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

### ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹:
```bash
docker-compose -f docker-compose.prod.yml restart
```

### ĞŸĞµÑ€ĞµÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ backend:
```bash
docker-compose -f docker-compose.prod.yml up -d --build backend
```

### ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ²ÑĞµÑ… ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²:
```bash
docker-compose -f docker-compose.prod.yml ps
```

### ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸:
```bash
docker-compose -f docker-compose.prod.yml logs --tail=0 -f
```

### Ğ—Ğ°Ğ¹Ñ‚Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° backend:
```bash
docker-compose -f docker-compose.prod.yml exec backend bash
```

---

## Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°

ĞŸĞ¾ÑĞ»Ğµ Ğ²ÑĞµÑ… ÑˆĞ°Ğ³Ğ¾Ğ² Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ:

âœ… `https://thepred.tech` - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞ°Ğ¹Ñ‚
âœ… `https://api.thepred.tech` - API
âœ… `https://thepred.store` - MinIO S3 Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¾Ğ¹ Ñ„Ğ¾Ñ‚Ğ¾
âœ… ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ğ² ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
âœ… ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ (ÑÑ‚Ğ°Ñ‚ÑƒÑ PENDING Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ñ‹Ñ…)

---

## Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸

ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ `8002`:

```bash
# ĞĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
docker-compose -f docker-compose.prod.yml ps admin
```

ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ: `http://IP_Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ:8002`

**ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ²Ñ…Ğ¾Ğ´:**
- URL: `http://IP_Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ:8002/login`
- ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ: Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ· `ADMIN_PASSWORD` Ğ² `.env`

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸:**
- **Dashboard** - ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
- **Users** - ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸ (Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€, Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°/Ñ€Ğ°Ğ½Ğ³Ğ°)
- **Markets** - Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ (Approve/Reject), ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°Ğ¼Ğ¸, resolve
- **Missions** - ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ/Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ/ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¸ÑÑĞ¸Ğ¹
- **Leaderboard** - Ñ‚Ğ¾Ğ¿-100 Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- **Broadcast** - Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ¸Ğ»Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼Ñƒ

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° ĞĞ• Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ° SSL, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ HTTP. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ VPN Ğ¸Ğ»Ğ¸ SSH tunnel Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ SSH Ñ‚ÑƒĞ½Ğ½ĞµĞ»Ñ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

Ğ”Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ°:

```bash
ssh -L 8002:localhost:8002 root@Ñ‚Ğ²Ğ¾Ğ¹_ÑĞµÑ€Ğ²ĞµÑ€_ip
```

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾: `http://localhost:8002`

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° BOT_TOKEN Ğ´Ğ»Ñ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸

Broadcast Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ `BOT_TOKEN` Ğ¸Ğ· `.env`. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ¾Ğ½ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½:

```bash
# ĞĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
cat .env | grep BOT_TOKEN
```

Ğ•ÑĞ»Ğ¸ Ğ½Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ - Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ² `.env`:
```env
BOT_TOKEN=Ñ‚Ğ²Ğ¾Ğ¹_Ñ‚Ğ¾ĞºĞµĞ½_Ğ±Ğ¾Ñ‚Ğ°
```

Ğ˜ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ backend:
```bash
docker-compose -f docker-compose.prod.yml restart backend
```

### Ğ¢ĞµÑÑ‚ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸

1. Ğ—Ğ°Ğ¹Ğ´Ğ¸ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºÑƒ: `Broadcast`
2. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ "Specific User"
3. Ğ’Ğ²ĞµĞ´Ğ¸ ÑĞ²Ğ¾Ğ¹ Telegram ID
4. ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
5. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ

Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ¹Ñ‚Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Telegram.

---

## Ğ§Ñ‚Ğ¾ ĞµÑ‰Ñ‘ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

### 1. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° thepred.store

Ğ•ÑĞ»Ğ¸ Ñƒ Ñ‚ĞµĞ±Ñ ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ Ğ´Ğ¾Ğ¼ĞµĞ½ `thepred.store`, Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ ĞµĞ³Ğ¾ Ğ² DNS Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ ĞºĞ°Ğº Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğ² Ğ¨Ğ°Ğ³Ğµ 1.

Ğ•ÑĞ»Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° ĞµÑ‰Ñ‘ Ğ½ĞµÑ‚ - Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹ ĞµĞ³Ğ¾ Ğ¸Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ´Ğ¾Ğ¼ĞµĞ½ Ğ´Ğ»Ñ S3.

### 2. ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ² .env

Ğ£Ğ±ĞµĞ´Ğ¸ÑÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ² `.env`:

```env
# ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ
POSTGRES_PASSWORD=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_postgres
JWT_SECRET=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹_jwt_ĞºĞ»ÑÑ‡
ADMIN_PASSWORD=Ñ‚Ğ²Ğ¾Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸
ADMIN_SECRET_KEY=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹_ĞºĞ»ÑÑ‡_Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸
WEBAPP_SECRET_KEY=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹_ĞºĞ»ÑÑ‡_Ğ²ĞµĞ±Ğ°Ğ¿Ğ¿
MINIO_ROOT_PASSWORD=Ñ‚Ğ²Ğ¾Ğ¹_Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ_minio
BOT_TOKEN=Ñ‚Ğ²Ğ¾Ğ¹_Ñ‚Ğ¾ĞºĞµĞ½_Ğ±Ğ¾Ñ‚Ğ°
```

### 3. ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ°

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ² `.env`:

```env
BOT_USERNAME=Ñ‚Ğ²Ğ¾Ğ¹_ÑĞ·ĞµÑ€Ğ½ĞµĞ¹Ğ¼_Ğ±Ğ¾Ñ‚Ğ°_Ğ±ĞµĞ·_@
```

### 4. ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº - Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

**ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:**

1. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ DNS (thepred.store â†’ IP ÑĞµÑ€Ğ²ĞµÑ€Ğ°)
2. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `.env` ÑĞ¾ Ğ²ÑĞµĞ¼Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑĞ¼Ğ¸
3. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ `git pull` Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
4. ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹: `docker-compose -f docker-compose.prod.yml down`
5. ĞŸĞµÑ€ĞµÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ: `docker-compose -f docker-compose.prod.yml build`
6. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ: `docker-compose -f docker-compose.prod.yml up -d`
7. Ğ”Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒÑÑ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² (2-3 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹)
8. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸: `docker-compose -f docker-compose.prod.yml exec backend alembic upgrade head`
9. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ SSL Ğ´Ğ»Ñ thepred.store
10. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ nginx
11. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹

### 5. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²

Ğ£Ğ±ĞµĞ´Ğ¸ÑÑŒ Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ:

```bash
# Firewall Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞ°Ñ‚ÑŒ:
# 80 (HTTP)
# 443 (HTTPS)
# 8002 (Admin Panel) - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶ĞµĞ½ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
```

Ğ•ÑĞ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑˆÑŒ `ufw`:
```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 8002/tcp  # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸
```

### 6. Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

Ğ”Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸ ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²:

```bash
# Ğ’ÑĞµ Ğ»Ğ¾Ğ³Ğ¸
docker-compose -f docker-compose.prod.yml logs --tail=100 -f

# ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ
docker-compose -f docker-compose.prod.yml logs backend --tail=100 -f
docker-compose -f docker-compose.prod.yml logs minio --tail=50 -f
docker-compose -f docker-compose.prod.yml logs admin --tail=50 -f
```

### 7. Ğ‘ÑĞºĞ°Ğ¿Ñ‹

**Ğ’Ğ°Ğ¶Ğ½Ğ¾!** ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ±ÑĞºĞ°Ğ¿Ñ‹:

```bash
# Ğ‘ÑĞºĞ°Ğ¿ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
docker-compose -f docker-compose.prod.yml exec postgres pg_dump -U thepred thepred > backup_$(date +%Y%m%d).sql

# Ğ‘ÑĞºĞ°Ğ¿ MinIO Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
docker run --rm -v thepred_minio_data:/data -v $(pwd):/backup alpine tar czf /backup/minio_backup_$(date +%Y%m%d).tar.gz /data
```

ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ cron Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²:
```bash
crontab -e

# Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ ÑÑ‚Ñ€Ğ¾ĞºÑƒ (Ğ±ÑĞºĞ°Ğ¿ ĞºĞ°Ğ¶Ğ´ÑƒÑ Ğ½Ğ¾Ñ‡ÑŒ Ğ² 3:00):
0 3 * * * cd /root/ThePred && docker-compose -f docker-compose.prod.yml exec -T postgres pg_dump -U thepred thepred > /root/backups/db_$(date +\%Y\%m\%d).sql
```

---

## ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² .env

**ĞĞ• Ğ—ĞĞ‘Ğ£Ğ”Ğ¬** Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `.env` Ğ² `.gitignore`, ĞµÑĞ»Ğ¸ ĞµĞ³Ğ¾ Ñ‚Ğ°Ğ¼ Ğ½ĞµÑ‚:

```bash
echo ".env" >> .gitignore
git add .gitignore
git commit -m "Add .env to gitignore"
```

---

Ğ’ÑÑ‘ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! ğŸš€
