# üéØ –ú–∏—Å—Å–∏–∏ - –ò—Ç–æ–≥–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### Backend:
1. ‚úÖ **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –º–∏—Å—Å–∏–∏** (`backend/app/init_missions.py`)
   - 7 –º–∏—Å—Å–∏–π: –ü–µ—Ä–≤–∞—è –°—Ç–∞–≤–∫–∞, –ù–æ–≤–∏—á–æ–∫, –ü–µ—Ä–≤–∞—è –ü–æ–±–µ–¥–∞, –°–µ—Ä–∏—è –ü–æ–±–µ–¥, –ê–∫—Ç–∏–≤–Ω—ã–π –¢—Ä–µ–π–¥–µ—Ä, –õ—é–±–∏—Ç–µ–ª—å –ö—Ä–∏–ø—Ç—ã, –ü—Ä–∏–≥–ª–∞—Å–∏ –î—Ä—É–≥–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã

2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `icon`** –≤ –º–æ–¥–µ–ª—å Mission
   - –ú–∏–≥—Ä–∞—Ü–∏—è Alembic: `backend/alembic/versions/add_mission_icon.py`
   - –ú–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞: `backend/app/models/mission.py`

3. ‚úÖ **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã** (`backend/app/api/endpoints/missions.py`)
   - `GET /missions/{user_id}` - –ø–æ–ª—É—á–∏—Ç—å –º–∏—Å—Å–∏–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
   - `POST /missions/claim/{user_id}/{mission_id}` - –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É

4. ‚úÖ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** (`backend/app/main.py`)
   - –í—ã–∑–æ–≤ `init_default_missions()` –≤ `startup_event`

### Webapp:
‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å** `webapp/templates/missions.html` –¥–ª—è:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–∏—Å—Å–∏–π –∏–∑ API
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- –ó–µ–ª—ë–Ω–æ–π –∫–Ω–æ–ø–∫–∏ "–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É" –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ claim

### Admin:
‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å** —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—Å—Å–∏—è–º–∏

---

## üöÄ –î–ª—è –¥–µ–ø–ª–æ—è:

```bash
# 1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add backend/app/init_missions.py backend/app/main.py backend/app/models/mission.py backend/app/api/endpoints/missions.py backend/alembic/versions/add_mission_icon.py
git commit -m "feat: Add default missions system"
git push origin main

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /root/ThePred
git pull origin main

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
docker-compose exec backend alembic upgrade head

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
docker-compose restart backend

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs backend | grep "missions"
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
Initializing default missions...
‚úì Created 7 default missions
```

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥ –µ–ª–∞—Ç—å:

1. **Webapp (missions.html)**:
   - –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–∏—Å—Å–∏–∏ —Å `/api/missions/{user_id}`
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–∞—Ç—å" –∑–µ–ª—ë–Ω–∞—è –∫–æ–≥–¥–∞ `completed && !claimed`

2. **Admin –ø–∞–Ω–µ–ª—å**:
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –º–∏—Å—Å–∏–π
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∏—Å—Å–∏–∏
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**:
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –º–∏—Å—Å–∏–π
   - –ü—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ –æ–±–Ω–æ–≤–ª—è—Ç—å win_streak
   - –ü—Ä–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–µ –æ–±–Ω–æ–≤–ª—è—Ç—å referrals_count

---

–•–æ—á–µ—à—å —á—Ç–æ–±—ã —è –ø—Ä–æ–¥–æ–ª–∂–∏–ª –∏ –æ–±–Ω–æ–≤–∏–ª webapp/missions.html –∏ –∞–¥–º–∏–Ω–∫—É?
